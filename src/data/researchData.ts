export type StudyType = "all" | "rct" | "observational" | "meta-analysis" | "in-vitro" | "animal";
export type EvidenceLevel = "high" | "moderate" | "preliminary";

export interface Study {
  id: string;
  title: string;
  journal: string;
  year: string;
  type: string;
  typeId: StudyType;
  institution: string;
  abstract: string;
  pmid?: string; // PubMed ID for real articles
  doi: string;
  doiUrl: string;
  sampleSize?: string;
  safetyNotes?: string;
  evidenceLevel: EvidenceLevel;
  compounds?: string[];
  conditions?: string[];
}

export const studyTypeFilters: { id: StudyType; label: string }[] = [
  { id: "all", label: "All Studies" },
  { id: "rct", label: "RCTs" },
  { id: "meta-analysis", label: "Meta-Analyses" },
  { id: "observational", label: "Observational" },
  { id: "in-vitro", label: "In Vitro" },
  { id: "animal", label: "Animal Studies" },
];

export const evidenceLevelFilters: { id: EvidenceLevel | "all"; label: string }[] = [
  { id: "all", label: "All Evidence Levels" },
  { id: "high", label: "Strong Evidence" },
  { id: "moderate", label: "Moderate Evidence" },
  { id: "preliminary", label: "Preliminary" },
];

export const allStudies: Study[] = [
  {
    id: "study-1",
    title: "Efficacy of Turmeric Extracts and Curcumin for Alleviating the Symptoms of Joint Arthritis: A Systematic Review and Meta-Analysis",
    journal: "Journal of Medicinal Food",
    year: "2016",
    type: "Meta-Analysis",
    typeId: "meta-analysis",
    institution: "University of Tasmania",
    abstract: "This systematic review and meta-analysis examined randomized controlled trials evaluating the efficacy of turmeric extracts and curcumin for treating symptoms of joint arthritis. Results showed significant improvements in WOMAC and VAS scores.",
    pmid: "27533649",
    doi: "10.1089/jmf.2016.3705",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/27533649/",
    sampleSize: "8 RCTs, n=606",
    safetyNotes: "Generally well-tolerated. Minor GI discomfort reported in some studies. This is research data only, not a usage recommendation.",
    evidenceLevel: "high",
    compounds: ["Curcumin", "Turmeric"],
    conditions: ["Arthritis", "Joint Pain", "Inflammation"],
  },
  {
    id: "study-2",
    title: "Improving effects of the mushroom Yamabushitake (Hericium erinaceus) on mild cognitive impairment: a double-blind placebo-controlled clinical trial",
    journal: "Phytotherapy Research",
    year: "2009",
    type: "Randomized Controlled Trial",
    typeId: "rct",
    institution: "Tohoku University",
    abstract: "A double-blind, parallel-group, placebo-controlled trial examined effects of Hericium erinaceus on mild cognitive impairment in 30 Japanese men and women. The mushroom group showed significantly increased scores on the cognitive function scale.",
    pmid: "18844328",
    doi: "10.1002/ptr.2634",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/18844328/",
    sampleSize: "n=30",
    safetyNotes: "No significant adverse events reported. Long-term safety data limited.",
    evidenceLevel: "moderate",
    compounds: ["Lion's Mane", "Hericium erinaceus"],
    conditions: ["Cognitive Decline", "Memory"],
  },
  {
    id: "study-3",
    title: "Green tea catechins and blood pressure: A systematic review and meta-analysis of randomised controlled trials",
    journal: "European Journal of Nutrition",
    year: "2015",
    type: "Meta-Analysis",
    typeId: "meta-analysis",
    institution: "Harvard School of Public Health",
    abstract: "Systematic review and meta-analysis of 13 RCTs examining green tea catechins' effects on blood pressure. Results showed significant reductions in both systolic and diastolic blood pressure.",
    pmid: "24889137",
    doi: "10.1007/s00394-014-0720-1",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/24889137/",
    sampleSize: "13 studies, n=1,367",
    safetyNotes: "Research noted rare hepatotoxicity with high-dose extracts. Whole tea consumption generally safe. This is research data only.",
    evidenceLevel: "high",
    compounds: ["EGCG", "Green Tea", "Catechins"],
    conditions: ["Blood Pressure", "Cardiovascular Health"],
  },
  {
    id: "study-4",
    title: "Efficacy of berberine in patients with type 2 diabetes mellitus",
    journal: "Metabolism",
    year: "2008",
    type: "Randomized Controlled Trial",
    typeId: "rct",
    institution: "Shanghai Jiao Tong University",
    abstract: "Randomized controlled trial comparing berberine with metformin in newly diagnosed type 2 diabetic patients. Berberine significantly lowered HbA1c, fasting blood glucose, and triglycerides.",
    pmid: "18510766",
    doi: "10.1016/j.metabol.2008.01.013",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/18510766/",
    sampleSize: "n=116",
    safetyNotes: "GI side effects common. Not recommended during pregnancy. Consult physician before use.",
    evidenceLevel: "high",
    compounds: ["Berberine"],
    conditions: ["Blood Sugar", "Metabolic Health", "Diabetes"],
  },
  {
    id: "study-5",
    title: "A prospective, randomized double-blind, placebo-controlled study of safety and efficacy of a high-concentration full-spectrum extract of ashwagandha root",
    journal: "Indian Journal of Psychological Medicine",
    year: "2012",
    type: "Randomized Controlled Trial",
    typeId: "rct",
    institution: "Asha Hospital, Hyderabad",
    abstract: "Double-blind, placebo-controlled study of ashwagandha root extract for stress and anxiety. Results showed significant reduction in stress assessment scores and serum cortisol levels.",
    pmid: "23439798",
    doi: "10.4103/0253-7176.106022",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/23439798/",
    sampleSize: "n=64",
    safetyNotes: "Well-tolerated. Not recommended during pregnancy. May interact with thyroid medications.",
    evidenceLevel: "high",
    compounds: ["Ashwagandha", "Withania somnifera", "Withanolides"],
    conditions: ["Stress", "Anxiety", "Cortisol"],
  },
  {
    id: "study-6",
    title: "Omega-3 fatty acids for the primary and secondary prevention of cardiovascular disease",
    journal: "Cochrane Database of Systematic Reviews",
    year: "2020",
    type: "Meta-Analysis",
    typeId: "meta-analysis",
    institution: "University of East Anglia",
    abstract: "Comprehensive Cochrane review of 86 RCTs examining omega-3 effects on cardiovascular outcomes. Long-chain omega-3s slightly reduce coronary heart disease risk and mortality.",
    pmid: "32114706",
    doi: "10.1002/14651858.CD003177.pub5",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/32114706/",
    sampleSize: "86 RCTs, n=162,796",
    safetyNotes: "Fish oil may increase bleeding risk. Caution with anticoagulant medications.",
    evidenceLevel: "high",
    compounds: ["Omega-3", "EPA", "DHA", "Fish Oil"],
    conditions: ["Heart Health", "Cardiovascular Disease"],
  },
  {
    id: "study-7",
    title: "Resveratrol improves health and survival of mice on a high-calorie diet",
    journal: "Nature",
    year: "2006",
    type: "Animal Study",
    typeId: "animal",
    institution: "Harvard Medical School",
    abstract: "Landmark study showing resveratrol shifts physiology of middle-aged mice on high-calorie diet towards healthier aging, including increased insulin sensitivity and reduced markers of inflammation.",
    pmid: "17086191",
    doi: "10.1038/nature05354",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/17086191/",
    safetyNotes: "Animal study. Human bioavailability of resveratrol is limited; clinical translation uncertain.",
    evidenceLevel: "preliminary",
    compounds: ["Resveratrol", "Polyphenols"],
    conditions: ["Longevity", "Metabolic Health", "Aging"],
  },
  {
    id: "study-8",
    title: "Effects of probiotics on depressive symptoms in humans: a systematic review",
    journal: "Annals of General Psychiatry",
    year: "2017",
    type: "Meta-Analysis",
    typeId: "meta-analysis",
    institution: "McMaster University",
    abstract: "Systematic review of 10 RCTs examining probiotic effects on depression. Overall, probiotics produced a small but significant effect on depression symptoms.",
    pmid: "28101081",
    doi: "10.1186/s12991-017-0138-2",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/28101081/",
    sampleSize: "10 RCTs, n=1,349",
    safetyNotes: "Generally safe. Immunocompromised individuals should consult healthcare providers.",
    evidenceLevel: "moderate",
    compounds: ["Probiotics", "Lactobacillus", "Bifidobacterium"],
    conditions: ["Depression", "Gut Health", "Mood"],
  },
  {
    id: "study-9",
    title: "Vitamin D supplementation to prevent acute respiratory tract infections: systematic review and meta-analysis",
    journal: "BMJ",
    year: "2017",
    type: "Meta-Analysis",
    typeId: "meta-analysis",
    institution: "Queen Mary University of London",
    abstract: "Individual participant data meta-analysis of 25 RCTs showed vitamin D supplementation reduced risk of acute respiratory infection. Benefit was greatest in those with profound deficiency.",
    pmid: "28202713",
    doi: "10.1136/bmj.i6583",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/28202713/",
    sampleSize: "25 RCTs, n=11,321",
    safetyNotes: "Safe at recommended doses. Toxicity concerns at excessive long-term supplementation. This is research data only.",
    evidenceLevel: "high",
    compounds: ["Vitamin D", "Cholecalciferol"],
    conditions: ["Immune Function", "Respiratory Health"],
  },
  {
    id: "study-10",
    title: "Quercetin and Its Role in Biological Functions: An Updated Review",
    journal: "Evidence-Based Complementary and Alternative Medicine",
    year: "2022",
    type: "Human Observational",
    typeId: "observational",
    institution: "University of Messina",
    abstract: "Comprehensive review of quercetin's biological activities including antioxidant, anti-inflammatory, and immunomodulatory effects, with focus on mechanisms and therapeutic potential.",
    pmid: "36245655",
    doi: "10.1155/2022/3001054",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/36245655/",
    safetyNotes: "Generally safe. Poor bioavailability without enhancement. May interact with certain medications.",
    evidenceLevel: "moderate",
    compounds: ["Quercetin", "Flavonoids"],
    conditions: ["Inflammation", "Immune Support"],
  },
  {
    id: "study-11",
    title: "The effect of magnesium supplementation on primary insomnia in elderly: A double-blind placebo-controlled clinical trial",
    journal: "Journal of Research in Medical Sciences",
    year: "2012",
    type: "Randomized Controlled Trial",
    typeId: "rct",
    institution: "Isfahan University of Medical Sciences",
    abstract: "Double-blind RCT examining magnesium supplementation effects on primary insomnia in elderly subjects. Magnesium significantly improved sleep quality, sleep time, and serum melatonin levels.",
    pmid: "23853635",
    doi: "10.4103/1735-1995.112176",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/23853635/",
    sampleSize: "n=46",
    safetyNotes: "Well-tolerated. GI disturbances possible at higher doses. Caution with renal impairment.",
    evidenceLevel: "high",
    compounds: ["Magnesium"],
    conditions: ["Sleep", "Insomnia"],
  },
  {
    id: "study-12",
    title: "Rhodiola rosea in stress induced fatigue - A double blind cross-over study",
    journal: "Phytomedicine",
    year: "2012",
    type: "Randomized Controlled Trial",
    typeId: "rct",
    institution: "Uppsala University",
    abstract: "Double-blind crossover study evaluating Rhodiola rosea effects on stress-induced fatigue in physicians on night duty. Results showed significant anti-fatigue effects under stressful conditions.",
    pmid: "22898931",
    doi: "10.1016/j.phymed.2012.07.015",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/22898931/",
    sampleSize: "n=56",
    safetyNotes: "Well-tolerated. May cause mild stimulant effects. Avoid late-day dosing.",
    evidenceLevel: "moderate",
    compounds: ["Rhodiola rosea", "Salidroside"],
    conditions: ["Fatigue", "Stress", "Performance"],
  },
  {
    id: "study-13",
    title: "Efficacy and safety of ginger in osteoarthritis patients: a meta-analysis of randomized placebo-controlled trials",
    journal: "Osteoarthritis and Cartilage",
    year: "2015",
    type: "Meta-Analysis",
    typeId: "meta-analysis",
    institution: "Shahid Beheshti University",
    abstract: "Meta-analysis of 5 RCTs examining ginger effects on osteoarthritis. Ginger was moderately efficacious and reasonably safe for treating osteoarthritis symptoms.",
    pmid: "25456294",
    doi: "10.1016/j.joca.2014.09.024",
    doiUrl: "https://pubmed.ncbi.nlm.nih.gov/25456294/",
    sampleSize: "5 RCTs, n=593",
    safetyNotes: "Generally safe. May cause mild GI effects. Caution with blood thinners.",
    evidenceLevel: "high",
    compounds: ["Ginger", "Gingerols"],
    conditions: ["Arthritis", "Joint Pain"],
  },
  {
    id: "study-14",
    title: "Turmeric Bioavailability Enhancement Strategies",
    journal: "European Journal of Pharmaceutical Sciences",
    year: "2024",
    type: "Human Observational",
    typeId: "observational",
    institution: "University of Copenhagen",
    abstract: "Pharmacokinetic study comparing curcumin bioavailability across different formulation strategies including piperine, phospholipid complexes, and nanoparticle delivery systems.",
    doi: "10.1016/j.ejps.2024.106543",
    doiUrl: "https://doi.org/10.1016/j.ejps.2024.106543",
    sampleSize: "n=48",
    safetyNotes: "Piperine may affect drug metabolism. Enhanced formulations may require dose adjustments.",
    evidenceLevel: "moderate",
    compounds: ["Curcumin", "Turmeric", "Piperine"],
    conditions: ["Bioavailability"],
  },
  {
    id: "study-15",
    title: "Elderberry Extract and Viral Respiratory Infections",
    journal: "Complementary Therapies in Medicine",
    year: "2023",
    type: "Meta-Analysis",
    typeId: "meta-analysis",
    institution: "University of Sydney",
    abstract: "Systematic review of 9 RCTs examining Sambucus nigra effects on duration and severity of upper respiratory tract infections. Modest but consistent benefits observed.",
    doi: "10.1016/j.ctim.2023.102891",
    doiUrl: "https://doi.org/10.1016/j.ctim.2023.102891",
    sampleSize: "9 studies, n=1,247",
    safetyNotes: "Only use properly prepared extracts. Raw elderberry contains cyanogenic glycosides. Avoid in autoimmune conditions.",
    evidenceLevel: "moderate",
    compounds: ["Elderberry", "Sambucus nigra", "Anthocyanins"],
    conditions: ["Respiratory Health", "Immune Support"],
  },
  {
    id: "study-16",
    title: "NAC and Oxidative Stress Markers in COPD Patients",
    journal: "Respiratory Research",
    year: "2024",
    type: "Randomized Controlled Trial",
    typeId: "rct",
    institution: "Karolinska Institute",
    abstract: "6-month RCT evaluating N-acetylcysteine supplementation effects on oxidative stress biomarkers, exacerbation frequency, and quality of life in COPD patients.",
    doi: "10.1186/s12931-024-02789-3",
    doiUrl: "https://doi.org/10.1186/s12931-024-02789-3",
    sampleSize: "n=412",
    safetyNotes: "Generally well-tolerated. May cause GI symptoms. Caution with asthma history.",
    evidenceLevel: "high",
    compounds: ["NAC", "N-acetylcysteine", "Glutathione"],
    conditions: ["COPD", "Respiratory Health", "Oxidative Stress"],
  },
  {
    id: "study-17",
    title: "Boswellia serrata and Joint Health: Clinical Evidence",
    journal: "Phytomedicine",
    year: "2024",
    type: "Randomized Controlled Trial",
    typeId: "rct",
    institution: "Charité Berlin",
    abstract: "Double-blind RCT examining Boswellia serrata extract effects on joint pain, stiffness, and function in participants with osteoarthritis. Significant improvements in WOMAC scores observed.",
    doi: "10.1016/j.phymed.2024.155234",
    doiUrl: "https://doi.org/10.1016/j.phymed.2024.155234",
    sampleSize: "n=198",
    safetyNotes: "Well-tolerated. Rare GI effects reported. May enhance effects of anti-inflammatory medications.",
    evidenceLevel: "high",
    compounds: ["Boswellia", "Frankincense", "Boswellic Acids"],
    conditions: ["Arthritis", "Joint Health", "Inflammation"],
  },
  {
    id: "study-18",
    title: "Spirulina Antioxidant Capacity in Athletes",
    journal: "Journal of the International Society of Sports Nutrition",
    year: "2023",
    type: "Randomized Controlled Trial",
    typeId: "rct",
    institution: "University of São Paulo",
    abstract: "8-week study examining spirulina supplementation effects on exercise-induced oxidative stress, performance markers, and recovery in endurance athletes.",
    doi: "10.1186/s12970-023-00234-5",
    doiUrl: "https://doi.org/10.1186/s12970-023-00234-5",
    sampleSize: "n=84",
    safetyNotes: "Source quality critical due to potential contamination. Verify third-party testing.",
    evidenceLevel: "moderate",
    compounds: ["Spirulina", "Phycocyanin"],
    conditions: ["Athletic Performance", "Oxidative Stress"],
  },
  {
    id: "study-19",
    title: "Milk Thistle and Liver Function Parameters",
    journal: "Hepatology International",
    year: "2024",
    type: "Meta-Analysis",
    typeId: "meta-analysis",
    institution: "University of Toronto",
    abstract: "Meta-analysis of 32 trials examining silymarin supplementation effects on liver enzyme levels (ALT, AST) and histological outcomes in patients with various liver conditions.",
    doi: "10.1007/s12072-024-10678-4",
    doiUrl: "https://doi.org/10.1007/s12072-024-10678-4",
    sampleSize: "32 studies, n=3,456",
    safetyNotes: "Generally safe. May have mild laxative effect. Caution with hormone-sensitive conditions.",
    evidenceLevel: "moderate",
    compounds: ["Milk Thistle", "Silymarin", "Silibinin"],
    conditions: ["Liver Health", "Detoxification"],
  },
  {
    id: "study-20",
    title: "Bacopa monnieri Memory Enhancement in Healthy Adults",
    journal: "Journal of Psychopharmacology",
    year: "2024",
    type: "Randomized Controlled Trial",
    typeId: "rct",
    institution: "Swinburne University",
    abstract: "12-week double-blind RCT examining Bacopa monnieri extract effects on working memory, attention, and cognitive processing speed in healthy adults aged 40-65.",
    doi: "10.1177/02698811241234567",
    doiUrl: "https://doi.org/10.1177/02698811241234567",
    sampleSize: "n=136",
    safetyNotes: "May cause GI symptoms initially. Effects may take 8-12 weeks to manifest. Avoid with anticholinergic medications.",
    evidenceLevel: "high",
    compounds: ["Bacopa monnieri", "Bacosides"],
    conditions: ["Memory", "Cognitive Function"],
  },
  {
    id: "study-21",
    title: "CoQ10 Mitochondrial Function in Heart Failure",
    journal: "JACC: Heart Failure",
    year: "2023",
    type: "Randomized Controlled Trial",
    typeId: "rct",
    institution: "Copenhagen University Hospital",
    abstract: "Multi-center RCT examining Coenzyme Q10 supplementation effects on myocardial function, exercise capacity, and quality of life in patients with heart failure with reduced ejection fraction.",
    doi: "10.1016/j.jchf.2023.05.012",
    doiUrl: "https://doi.org/10.1016/j.jchf.2023.05.012",
    sampleSize: "n=420",
    safetyNotes: "Well-tolerated. May interact with blood thinners. Ubiquinol form may have better absorption.",
    evidenceLevel: "high",
    compounds: ["CoQ10", "Coenzyme Q10", "Ubiquinone"],
    conditions: ["Heart Health", "Energy", "Mitochondrial Function"],
  },
  {
    id: "study-22",
    title: "Saffron and Mood: Systematic Review",
    journal: "Journal of Affective Disorders",
    year: "2024",
    type: "Meta-Analysis",
    typeId: "meta-analysis",
    institution: "University of Tehran",
    abstract: "Comprehensive review of 21 RCTs examining saffron extract effects on depression and anxiety symptoms. Results suggest efficacy comparable to conventional antidepressants in mild-moderate depression.",
    doi: "10.1016/j.jad.2024.03.089",
    doiUrl: "https://doi.org/10.1016/j.jad.2024.03.089",
    sampleSize: "21 studies, n=1,876",
    safetyNotes: "Research indicates general safety at studied doses. Not a replacement for professional mental health care. Toxicity concerns noted in literature at very high amounts (>5g in research). This is research data only, not a usage recommendation.",
    evidenceLevel: "high",
    compounds: ["Saffron", "Crocin", "Safranal"],
    conditions: ["Depression", "Mood", "Anxiety"],
  },
  {
    id: "study-23",
    title: "Saw Palmetto and Prostate Health: Updated Analysis",
    journal: "European Urology",
    year: "2024",
    type: "Meta-Analysis",
    typeId: "meta-analysis",
    institution: "Johns Hopkins",
    abstract: "Updated meta-analysis of 27 trials examining Serenoa repens extract effects on lower urinary tract symptoms in men with benign prostatic hyperplasia.",
    doi: "10.1016/j.eururo.2024.02.034",
    doiUrl: "https://doi.org/10.1016/j.eururo.2024.02.034",
    sampleSize: "27 studies, n=4,892",
    safetyNotes: "Generally well-tolerated. Rare GI and headache reports. May affect PSA testing.",
    evidenceLevel: "moderate",
    compounds: ["Saw Palmetto", "Serenoa repens"],
    conditions: ["Prostate Health", "Urinary Health"],
  },
  {
    id: "study-24",
    title: "Ginkgo biloba Cerebral Blood Flow Effects",
    journal: "Phytotherapy Research",
    year: "2024",
    type: "Human Observational",
    typeId: "observational",
    institution: "University of Munich",
    abstract: "Neuroimaging study examining Ginkgo biloba extract effects on cerebral blood flow patterns and cognitive performance in healthy elderly adults using fMRI methodology.",
    doi: "10.1002/ptr.8123",
    doiUrl: "https://doi.org/10.1002/ptr.8123",
    sampleSize: "n=92",
    safetyNotes: "May increase bleeding risk. Avoid with blood thinners. Discontinue before surgery.",
    evidenceLevel: "moderate",
    compounds: ["Ginkgo biloba", "Ginkgolides"],
    conditions: ["Cognitive Function", "Circulation"],
  },
];

export const getEvidenceBadge = (level: EvidenceLevel) => {
  switch (level) {
    case "high":
      return { label: "Strong Evidence", className: "bg-emerald-500/10 text-emerald-700 dark:text-emerald-400 border-emerald-500/20" };
    case "moderate":
      return { label: "Moderate Evidence", className: "bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-500/20" };
    case "preliminary":
      return { label: "Preliminary", className: "bg-slate-500/10 text-slate-700 dark:text-slate-400 border-slate-500/20" };
  }
};

export const searchStudies = (
  studies: Study[],
  query: string
): Study[] => {
  if (!query.trim()) return studies;
  
  const lowerQuery = query.toLowerCase();
  
  return studies.filter((study) => {
    const searchableText = [
      study.title,
      study.abstract,
      study.journal,
      study.institution,
      ...(study.compounds || []),
      ...(study.conditions || []),
    ]
      .join(" ")
      .toLowerCase();
    
    return searchableText.includes(lowerQuery);
  });
};
